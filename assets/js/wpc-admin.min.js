/*! WP Primary Category - v0.1.0
 * https://github.com/ritesh-patel/wp-primary-category
 * Copyright (c) 2016; * Licensed GPL-2.0+ */
!function(a){"use strict";var b=wp.template("wpc-set-admin-views"),c=wp.template("wpc-unset-admin-views"),d=function(){function a(a){return{taxonomy:a.dataset.tax}}function d(a,b){f=jQuery(h).find("input[type=checkbox]")[0],f.checked=!0,b="undefined"==typeof set?0:f.value,document.getElementsByName("wpc_"+a.dataset.tax+"_primary")[0].value=b}function e(d,e){d.parentNode.removeChild(d),g=a(d),"undefined"==typeof e?h.innerHTML=h.innerHTML+b(g):h.innerHTML=h.innerHTML+c(g)}var f,g,h,i,j,k,l,m;return{setPrimaryViewUI:function(a){if(h=document.getElementById(a.taxonomy+"checklist"),null!==h){if(j=h.getElementsByTagName("li"),j.length>0)for(g={taxonomy:a.taxonomy},k=0;k<j.length;k++)m=jQuery(j[k]).find("input[type=checkbox]").val()==a.primary?c(g):b(g),j[k].innerHTML=j[k].innerHTML+m;l=document.createElement("input"),l.name="wpc_"+a.taxonomy+"_primary",l.type="hidden",l.value=a.primary,h.parentNode.appendChild(l)}},setPrimary:function(c){h=c.parentNode,g=a(c);var f=h.parentNode.getElementsByClassName("wpc-unset-primary");f.length>0&&(i=f[0].parentNode,i.removeChild(f[0]),i.innerHTML=i.innerHTML+b(g)),e(c,!0),d(c,!0)},unSetPrimary:function(a){e(a),d(a)}}}();if(jQuery(".categorydiv").click(function(a){var b=a.target;b.className.indexOf("wpc-set-primary")>-1?(d.setPrimary(b),a.preventDefault()):b.className.indexOf("wpc-unset-primary")>-1&&(d.unSetPrimary(b),a.preventDefault())}),"object"==typeof wpcl10n&&wpcl10n.taxonomies.length>0)for(var e=0;e<wpcl10n.taxonomies.length;e++)d.setPrimaryViewUI(wpcl10n.taxonomies[e])}(this);